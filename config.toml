[server]
host = "0.0.0.0"
port = 3001
timeout = 300

[database]
# url 通过环境变量 DATABASE_URL 设置
max_connections = 10
pool_timeout = 30

[logging]
level = "debug"          # 开发环境用 debug，看到更多日志
console_format = "pretty" # 控制台格式：pretty 或 compact
console = true           # 是否输出到控制台
file = true              # 是否输出到文件
file_dir = "./logs"      # 日志文件目录
file_prefix = "app"      # 日志文件名前缀（会自动加环境后缀）
rotation = "daily"       # 按天轮转：daily, hourly, never
max_files = 30           # 保留30个日志文件（按 rotation 策略计算天数）
cleanup_enabled = true   # 是否启用日志清理
cleanup_interval = "7x24"  # 清理间隔，支持格式: 168、"7x24"、"7d"、"168h"（0 表示仅启动时清理一次）

[secrets]
# JWT 密钥通过环境变量 JWT_SECRET 设置（必需，至少 32 字符）

[redis]
# Redis 服务器 URL 通过环境变量 REDIS_URL 设置（可选，不设置则跳过 Redis 初始化）
# 格式：redis://[:password]@host:port/db

[cors]
allow_origins = ["*"]    # 允许的源列表（* 表示允许所有源，开发环境用。生产环境应指定具体域名）
allow_methods = ["GET", "POST", "PUT", "DELETE", "OPTIONS", "HEAD"]  # 允许的 HTTP 方法
allow_headers = ["Authorization", "Content-Type", "Accept", "X-Request-ID"]  # 允许的请求头
allow_credentials = false  # 是否允许凭证跨域传送
expose_headers = ["Content-Type", "X-Total-Count"]  # 暴露给客户端的响应头
max_age = 3600           # 预检请求缓存时间，单位秒
